/*! gkaptcha.js v0.0.1 http://gesturekit.com/ | Released under the Apache v2 License. */!function(a){"use strict";function b(a,b){if(!Array.isArray(a))throw Error("shuffle-array expect an array as parameter.");var c,d,e=a,f=a.length;for(b===!0&&(e=a.slice());f;)c=Math.floor(Math.random()*f),f-=1,d=e[f],e[f]=e[c],e[c]=d;return e}b.pick=function(a,b){if(!Array.isArray(a))throw Error("shuffle-array.pick() expect an array as parameter.");if("number"==typeof b&&1!==b){for(var c,d=a.length,e=a.slice(),f=[];b;)c=Math.floor(Math.random()*d),f.push(e[c]),e.splice(c,1),d-=1,b-=1;return f}return a[Math.floor(Math.random()*a.length)]},"function"==typeof a.define&&void 0!==a.define.amd?a.define("shuffle",[],function(){return b}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=b:a.shuffle=b}(this),function(a,b){"use strict";function c(c){var d=this;b.init(c);var e=["background-repeat: no-repeat;","background-size: contain;","background-position: center;"];return this.loadGestures(),this.container=a.document.getElementById("sensor"),this.container.style.cssText=e.join(""),this._input=a.document.getElementById("gkaptcha-input"),b.on("recognize",function(c){c.name===d._gesture.method?(b.disable(),d.container.style.backgroundColor="rgba(39, 174, 96, .5)",d._input.value=d._gesture.method,a.document.getElementById("send-form").disabled=!1):(d.container.style.backgroundColor="rgba(231, 76, 60, .5)",a.setTimeout(function(){d.container.style.backgroundColor="rgba(0, 0, 0, 0.2)"},1e3))}),b.on("notrecognize",function(){d.container.style.backgroundColor="rgba(231, 76, 60, .5)",a.setTimeout(function(){d.container.style.backgroundColor="rgba(0, 0, 0, 0.2)"},1e3)}),this}var d="http://api.gesturekit.com/v1.1/index.php/sdk/getgestures_help/";c.prototype.loadGestures=function(c){var e,f,g=this,h=new a.XMLHttpRequest;return c=c||b._options.gid,h.open("GET",d+c),h.onreadystatechange=function(){h.readyState===h.DONE&&(e=h.status,(e>=200&&300>e||304===e||0===e)&&(f=JSON.parse(h.response||h.responseText),g._gestures=f.gestureset.gestures,g.update()))},h.send(),this},c.prototype.update=function(){return this._gesture=shuffle.pick(this._gestures),this.container.style.backgroundImage='url("data:image/png;base64,'+this._gesture.img+'")',this},"function"==typeof a.define&&void 0!==a.define.amd?a.define("gkcaptcha",[],function(){return c}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=c:a.gkaptcha=c}(this,this.gesturekit);